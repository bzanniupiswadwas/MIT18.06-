# Ax=b 的可解性
我们在1.2和1.8中都讨论过Ax=b的可解性问题，就是问对于所有的b，是否都有对应的解！
那么我们在前面讨论过了这两种：
（1）列空间角度：当且仅当 b 属于 A 的列空间时成立。
（2）线性组合角度：b 必须是 A 各列的线性组合。（这个就是原始的定义！）
现在我们有第三种情况！即：A 矩阵本身变换角度：如果 A 的各行线性组合得到零行，那么对 b 取相同运算方式，必将得到自然数 0。那么我们下面来证明这个观点！
证明：
还是运用上一讲的例子：$$ A = \begin{bmatrix} 1 & 2 & 2 & 2 \\ 2 & 4 & 6 & 8 \\ 3 & 6 & 8 & 10 \end{bmatrix} $$
这个时候我们需要引入增广矩阵，把结果矩阵放入其中，因为结果不再是零矩阵！那么我们得到：
$$\left[\begin{array}{cccc|c} 1 & 2 & 2 & 2 & b_{1} \\ 2 & 4 & 6 & 8 & b_{2} \\ 3 & 6 & 8 & 10 & b_{3}\end{array}\right] $$
那么我们根据高斯消元法进行消元，这个过程我不想再重复描写了，已经写过无数次了！得到：
$$\left[\begin{array}{cccc|c} 1 & 2 & 2 & 2 & b_{1} \\ 0 & 0 & 2 & 4 & b_{2} - 2b_{1} \\ 0 & 0 & 0 & 0 & b_{3} - b_{2} - b_{1}\end{array}\right] $$
那么要使得 $0 = b_{3} - b_{2} - b_{1}$成立，我们必须要使得$b_{3} - b_{2} - b_{1}$值为0！所以这个成立！
那么根据这个定理，可知b如果是$\begin{bmatrix}1 \\ 5 \\ 6\end{bmatrix}$是有解的，但是如果b是$\begin{bmatrix}1 \\ 5 \\ 12\end{bmatrix}$则是无解的！我们又多了一个判断线性方程可解性的方法！

其实这个判断方法是没有前面两种方法的适用性强，为什么这么说呢，因为只有刚好的在等式左边的和是一个零行的情况下才可以刚好匹配为一个单个的数！如果等式左边转化为一个等式，那么是无法匹配单个数的！（这段话讲的有点抽象，大家细细理解一下！）
# 求Ax = b 的通解
还是$A = \begin{bmatrix} 1 & 2 & 2 & 2 \\ 2 & 4 & 6 & 8 \\ 3 & 6 & 8 & 10 \end{bmatrix}$这个例子！求他的通解，我们先需要推导出一个概念：通解 = 矩阵零空间向量 + 矩阵特解！这个为什么成立其实很好证明，$Ax = b 与 Ax = 0$，当$x_{1},x_{2}$分别是前面两个式子的解，那么$A(x_{1}+x_{2}) = Ax_{1} + Ax_{2} = b+0 = b$结果上是不被改变的！这个时候我们就顺利的把一个解向量扩展到一个类似的子空间上！所以当一个特解加上一个对应零空间的解是，是可以看成是通解的！那是什么使得我们求出的解更具有普遍意义。这个思想我们可以从许多个不同视角下去看：
#### 一、直觉理解（为什么这个结构是合理的）

我们考虑一个非齐次线性方程组：
$Ax=b$
- 如果这个方程有解，那么至少存在一个特解 $xp$​，使得 $Axp=b$。
- 然后我们想问：还有没有别的解？答案是 **只要加上零空间里的任意一个向量**，就可以得到新的解！

因为如果 $xh$​ 满足 $Axh=0$（即属于零空间），那么：

$A(xp+xh)=Axp+Axh=b+0=b$

也就是说，$xp+xh$​ 仍然是原方程的解。

所以，所有可能的解就是：
$通解=xp+(零空间中的任意一个向量)$

#### 二、几何解释（仿射子空间视角）
你可以把它想象成：
- 一个平面（零空间）；
- 把这个平面向某个方向移动了一段距离（由 b 决定），就得到了另一个平行的平面，那就是所有满足 Ax=b 的解集合。
因此，这个解集可以看作是：解集=一个特解+零空间

这个其实与我们的在1.9讲朗读课中的内容是一样的！大家回去看看！

那么我们已经完整证明了通解 = 矩阵零空间向量 + 矩阵特解。现在我们需要求解特解：
上一节中我们求解 Ax = 0 方程的特解时，分别将自由变量赋值为 0/1，这其实并不是最简单的找特解的赋值方式，但是在$Ax=0$这个线性方程当中，我们无法在把自由变量都赋值为0，因为如果自由变量都赋值为0，那么其他所有的变量都为0了！但是在$Ax=b$就不是这个样子了！我们可以把自由哦变量都赋值为0。$$ A = \begin{bmatrix} 1 & 2 & 2 & 2 \\ 0 & 0 & 2 & 4 \\ 0 & 0 & 0 & 0 \end{bmatrix} $$
化简到这里自由变量赋值为0。像上文一样把b设置为合法的$\begin{bmatrix}1 \\ 5 \\ 6\end{bmatrix}$那么通过回代法得到：
$$ \begin{cases}
x_1  + 2x_{3}  = 1 \\ 
2x_3  = 2
\end{cases}$$
求出特解为：$\begin{bmatrix}-2 \\ 0 \\  \frac{3}{2} \\ 0\end{bmatrix}$
那么依据我们上面给出的定理结合零空间通解得到通解为：
$\begin{bmatrix}-2 \\ 0 \\  \frac{3}{2} \\ 0\end{bmatrix} +d\begin{bmatrix} -2 \\ 1 \\ 0 \\ 0 \end{bmatrix} + c\begin{bmatrix} 2 \\ 0 \\ -2 \\ 1 \end{bmatrix}$
那么对于这个解集来说，他是一个在四维空间中的平面！
但他却不是一个向量空间，因为他没有包含零向量！像是一个偏移的子空间！（这个说法有点抽象）
![[Pasted image 20250713224613.png]]
这是strang教授在课堂上画的一个图，大家可以看看，帮助理解！
所以这个求解通解的过程要记住了！

# mn 矩阵 A 的秩与解的关系

# 列满秩 R = n < m 
首先列满秩矩阵，意味着矩阵的秩是等于矩阵列数的！或者以一个全新的视角来看，矩阵中的每一列都是线性无关的！（这个部分应该是可以理解的，如果不清楚建议大家看看1.9章的内容，我们在那里说了自由变量对应的是什么！[[1.9 求解 Ax = 0：枢轴变量，特殊解]]）
那么这个矩阵在经过高斯消元后是没有自由变量的！注意这个条件，我们会以这个条件为基础去证明列满秩矩阵的解的个数问题。以一个例子为入口：$$ A = \begin{bmatrix} 1 & 3  \\ 2 & 1  \\ 6 & 1 \\ 5 & 1 \end{bmatrix} $$
消元后得到：$A \rightarrow\begin{bmatrix} 1 & 3  \\ 0 & -5  \\ 0 &-17 \\ 0 & -14 \end{bmatrix} \rightarrow\begin{bmatrix} 1 & 0  \\ 0 & 1  \\ 0 & 0 \\ 0 & 0 \end{bmatrix} \rightarrow\begin{bmatrix} I  \\ 0 \end{bmatrix}$，如果是对于$Ax=0$，这个方程来说，是不是意味着A的零空间只有一个向量就是零向量！我们这么来理解，矩阵中所有的列都是独立的，代表着一个维度，那么我们无法用另外的列去消除他，只能用0去解决！当我们延伸到$Ax=b$的时候，还记得通解 = 矩阵零空间向量 + 矩阵特解吧，那么加号前面是零向量，后面的，有没有解就取决于特解存不存在了！因为没有自由变量，无法自由取值，如果b在矩阵A的列空间中，那么就有一个唯一解（列空间的每一个向量都有独一无二解），当然这个列空间是填不满整个对应的n维空间的！不在列空间中则没有解，那我们怎么判断在不在列空间中呢，方法就是在化简后有零行出现时，根据有解性判断！

# 行满秩 R = m < n
这种情况下m是一定小于n的，为什么这么说呢，因为是不可能一列中有两个主元的！
同样给出一个例子：$$ A = \begin{bmatrix} 1 & 2 & 6 & 5  \\ 3 & 1 & 1 & 1  \end{bmatrix} $$
进行消元后得到$A= \begin {bmatrix}I & F \end {bmatrix}$，他存在着n-r个自由变量，那么在方程$Ax=b$中，他的解的个数是大于1的！为什么这么说，因为通解 = 矩阵零空间向量 + 矩阵特解。首先他的零空间是绝对不仅仅是只有零向量的，而是有无穷多个向量的！而特解也是存在，那么通解就有无穷多个！反之无解！但是这里特殊的是一定会有特解在，因为列空间一定是m维的，而b也是m维的，所以一定有一个特解，那么一定有无数个解去替代！

# 行列皆满秩R= m = n
这时矩阵 A 是方阵且可逆，即有 m = n 时，那么秩 R = m 时，R 也必 = n。那么这个矩阵一定是可以化为单位矩阵I的！那么$Ax=b推导得到Ix=b_{1}$ ，那么很明显只有一个解，那个解是b的变形！如果A不可逆，就不是这样了！

# 不满秩 R < m, R < n
A 矩阵不满秩，此时 A 可化简为$\begin{bmatrix}I&F \\ 0&0\end{bmatrix}$，最后化简结果中有 0 行。此时矩阵的列空间是无法填满整个n维空间的！然后对应的零空间也是有多个向量组成的！所以我们需要根据可解性去判断有无特解，所以也是要么没有解，要么有无数个解！

> tips：不知道大家发现没有，R是永远要小于m和n，那么其实当我们发现一个矩阵的m<n那么，那么一定会存在自由变量，零空间也一定不仅仅只有零向量！（因为就算每一行都有一个主元，那么也无法做到每一列都有主元！）

总结：
观察上面的多种情况，记忆起来非常困难。那我再来帮大家理一理！首先经过高斯消元法把矩阵进行消元，然后我们需要进行两轮检验：第一轮是自由变量数量检验，第二轮是可解性检验（本讲的第一部分内容）。第一轮检验中：：如果自由变量数量大于零（n > r时），那么就可能是无穷个解或者无解，如果自由变量等于零，那么要么无解要么只有一个解！第二轮检验中：如果化简后有零行出现后看b中对应是否有0，有则有特解，根据第一轮检验的结果判断是一个解还是无数解！没有0则无特解，直接就是无解！行列皆满秩的情况除外！如果没有零行出现就会有多种可能的解的情况！
或者我们从空间视角记忆：就是看b是否在A矩阵的列空间中，如果b不再列空间中，什么都不用说，直接就是无解！如果在列空间中，如果A矩阵的列空间是填满n维空间的（列满秩），那么解是唯一的（空间中向量的唯一性，）如果不是满秩，就有许多个解了！

# 讨论课
有一个方程组为：
$$ \begin{cases} x - 2y - 2z = b_{1} \\ 2x -5y - 4z = b_{2} \\ 4x - 9y-8z=b_{3}\end{cases}$$
求出Ax=b他的通解。
首先我们提取出矩阵：
$$
 \left[\begin{array}{ccc|c} 1 & -2 & -2 & b_{1} \\ 2 & -5 & -4 & b_{2} \\ 4 & -9 & -8 & b_{3}\end{array}\right] 
$$
开始化简：
$$\left[\begin{array}{ccc|c} 1 & -2 & -2 & b_{1} \\ 2 & -5 & -4 & b_{2} \\ 4 & -9 & -8 & b_{3}\end{array}\right] \rightarrow \left[\begin{array}{ccc|c} 1 & -2 & -2 & b_{1} \\ 0 & -1 & 0 & -2b_{1}+b_{2} \\ 0 & -1 & 0 & -4b_{1}+b_{3}\end{array}\right] \rightarrow \left[\begin{array}{ccc|c} 1 & -2 & -2 & b_{1} \\ 0 & -1 & 0 & -2b_{1}+b_{2} \\ 0 & 0 & 0 & -2b_{1}-b_{2}+b_{3}\end{array}\right] \rightarrow \left[\begin{array}{ccc|c} 1 & 0 & -2 & 5b_{1} - 2b_{2} \\ 0 & 1 & 0 & 2b_{1}-b_{2} \\ 0 & 0 & 0 & -2b_{1}-b_{2}+b_{3}\end{array}\right]$$
那么我们先来看看有多少个解。我们发现他是有一个自由变量的，那么他的零空间是不仅仅只有零向量的！然后我们化简后发现有零行，只有当$-2b_{1}-b_{2}+b_{3}=0$的时候才会有解！所以此时的矩阵变为了：$\left[\begin{array}{ccc|c} 1 & 0 & -2 & 5b_{1} - 2b_{2} \\ 0 & 1 & 0 & 2b_{1}-b_{2} \\ 0 & 0 & 0 & 0\end{array}\right]$，此时$x_{1}和x_{2}$是主元剩下为自由变量！
那么我们先求特解：自由变量设置为0，那么$x=\begin{bmatrix}5b_{1}-2b_{2}\\ 2b_{1}-b_{2} \\ 0\end{bmatrix}$。现在我们需要加上零空间的通解：$\left[\begin{array}{ccc|c} 1 & 0 & -2 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 0 & 0\end{array}\right]$。那么我们设自由变量为1（设置为0结果是零向量），那么求出$x=\begin{bmatrix}2\\ 0 \\ 1\end{bmatrix}$，那么通解为：$x=\begin{bmatrix}5b_{1}-2b_{2}\\ 2b_{1}-b_{2} \\ 0\end{bmatrix} +d\begin{bmatrix}2\\ 0 \\ 1\end{bmatrix}$，这就是通解！

# 习题课
### 问题一：解释一下为什么是错误的
（1）完整的解决方案是 $x_{p}$ 和$x_{n}$的任意线性组合。
答：因为$x_{p}$的系数必须得是1，不然是错误的！
（2）系统 Ax = b 最多有一个特定的解。
答：特解其实就是一个在矩阵A列空间中的一个向量，如果你说规定自由变量的值为0或者1确实这个特解是唯一的，因为列空间中每一个向量都是由基准向量经过唯一系数的组合而来的！但是仅仅是符合题意的解，在矩阵A的列空间中的向量都是！
（3）如果 A 是可逆的，则零空间中没有解$x_{n}$。
答：A可逆说明是一个方阵，那么一定是行列满足矩阵和行列都不满秩矩阵中的一种！但是我管你这么多，任何矩阵零空间至少是有零向量的！

### 问题二：
有矩阵$U= \begin{bmatrix}1&2&3\\0&0&4\end{bmatrix}, c=\begin{bmatrix}5\\8\end{bmatrix}$，使用高斯-乔丹消元法将矩阵 $[U 0]$ 和$[U C]$化简为 $[R 0]$ 和 $[R d]$，并分别求解$Rx=0$ $和$ $Rx=d$。通过将值代入$Ux=0$和 $Ux=c$ 来检查你的工作。

我们知道化为R意味着所有主元都应该化为1且主元列其他元素都应该为0！

解答：$[U 0]$ = $\begin{bmatrix}1&2&3&0\\0&0&4&0\end{bmatrix}\rightarrow \begin{bmatrix}1&2&3&0\\0&0&1&0\end{bmatrix}\rightarrow\begin{bmatrix}1&2&0&0\\0&0&1&0\end{bmatrix}$ = $[R 0]$
同样$[U c]$ =  $\begin{bmatrix}1&2&3&5\\0&0&4&8\end{bmatrix}\rightarrow \begin{bmatrix}1&2&3&5\\0&0&1&2\end{bmatrix}\rightarrow\begin{bmatrix}1&2&0&-1\\0&0&1&2\end{bmatrix}$ = $[R c]$
然后求解$Rx=0$，设置自由变量为1，那么通过回代法得到特解为：$\begin{bmatrix}-3\\1\\2\end{bmatrix}$，
求解$Rx=c$，设置自由变量为1，得到特解为：$\begin{bmatrix}-3\\1\\2\end{bmatrix}$。当我们代入到$Ux=0$和 $Ux=c$ 中可以验证结果是正确的！

# 问题三
假设对于每个 b，Ax=b 和 Cx=b 都有相同的（完整的）解。那么是否可以得出结论 A=C？

解答：这个我推荐大家以矩阵空间的视角去考虑！首先我们看在一个相同的结果向量中，两个矩阵的解空间是完全一样的，只有一种可能，A=C！当然我们也可以严谨的来看待：设有一个特解y，那么Ay = b，同样的Cy = b，那么Ay = Cy，推导出A=C！

