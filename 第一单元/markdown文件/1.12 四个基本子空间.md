在之前我们提到过许多关于空间的内容，在空间上理解线性代数是非常重要的！那么在这一讲，我们来说说矩阵的子空间，以及为下讲内容做一个引线！

# 四个基本子空间的介绍
现在我们有一个m行n列的矩阵A，我们以这个矩阵为基础，讨论矩阵的四个基本子空间！并回答一个问题，这几个子空间是几维空间的子空间？
#### （1）列空间
这是我们在1.8讲就说到过的内容，他是矩阵中所有列向量张成的空间。那么现在我们来说说看列空间是属于几维空间。我们在之前说过，一个张成空间是属于几维空间要看张成他的向量的维度（可以这么想，向量的维度是多少，他所能张成空间维度的极限就是多少）。那么张成列空间的向量是列向量，维度是m，那么列空间是$R^m$的子空间！我们记为$C(A)$

#### （2）零空间
零空间我们也已经很熟悉了，他是满足$Ax=0$的所有的解x所张成的空间！所以零空间本质上就是一种解空间。那么现在我们来说说看零空间是属于几维空间。首先，解x的维度是n，那么零空间就是属于$R^n$的子空间！记为$N(A)$

#### （3）行空间
这个是新概念，但是我们在1.11的讨论课上说到过行空间的一些内容！但是他是不难理解的，无非是矩阵中行向量张成的空间！行空间属于几维空间呢，可知每个行向量维度是n，那么行空间就是$R^n$的子空间。也可以理解为A矩阵的转置的列空间。所以我们记为$C(A^T)$。

#### （4）左零空间
什么是左零空间呢，就是A的转置的零空间，那我们为什么叫做是左零空间呢，我们后面深入讨论！现在我们还是来回答左零空间是几维空间的子空间！当矩阵被转置之后，对应的解也要改变维度，从n改为m，那么左零矩阵是属于$R^m$的子空间！记作$N(A^T)$。

# 四个基本子空间的维度与基
经过上面的简单介绍，我们来更进一步理解！还是以m行n列的矩阵A为例子进行讲解！

#### （1）列空间
首先列空间的维度是什么，我们在前两章说到过，矩阵的秩就是列空间的维度！在我们对矩阵完成消元后，留下来的主元列就是张成列空间的基，他们是线性无关的！所以我们总结得：列空间的维度等于秩r，而基就是主元列（就是消元后矩阵中主元所在的列）！但是不可以选择消元前的矩阵中的列，因为消元前后矩阵列空间改变了！

#### （2）零空间
同样，之前介绍过矩阵 A 秩为 r 时，自由列为 n-r 列。这 n-r 列决定了 x 中的 n-r 个自由变元，赋值后就构成了零空间的 n-r 个基向量，故零空间维数为：n-r。那么他的基是什么呢，就是基于对自由变量赋值而来的特解，特解组成零空间的基！

#### （3）行空间
行空间的维度是多少呢，我们需要知道的是矩阵的行秩等于列秩（这个证明我们不细说）。那么当我们把矩阵转置过来后，发现转置后的秩同样为r，所以行空间维度是r，而他的基就是消元后主元所在的行向量！也可以说是消元后的前r行！当然也可以选择消元前的矩阵中的行作为基，但是注意如果消元过程中矩阵有交换行，那么注意要对应位置！

#### （4）左零空间
首先我们来解释一下为什么左零空间是叫做左零空间而不叫转置零空间！
有这么个等式$A^Tx=0,那么我们进行转置(A^Tx)^T = [0]^T,得到x^TA=[0]$,我们看到，对于 A 矩阵本身来说，$x^T$左乘矩阵 A 得到零向量，所以我们称之为左零空间。但是我个人非常不理解为什么strange教授要这么理解（也许是在数学的专业领域会有更深的联系），反正我个人就是理解为矩阵转置的零空间！既然是转置的，m与n的位置颠倒，当矩阵转置后秩仍然为r时，自由列为m-r列，那么零空间维度是：m-r。

现在我们来找寻他的基向量：首先零空间记录下的是矩阵各列结果为0的线性组合。那么由于左零向量的解空间是在矩阵A的左边，那么左零空间反映的就是 A 的行向量的线性组合，最终得到零向量。给出一个具体的矩阵A：$\begin{bmatrix}1&2&3&1\\1&1&2&1\\1&2&3&1\end{bmatrix}$，化简之后得到：$R = \begin{bmatrix}1&0&1&1\\0&1&1&0\\0&0&0&0\end{bmatrix}$,那么R矩阵中的最后一行0就是由A的行向量组合而来，正好满足我们对左零空间的定义。那么我们把他变化过程记录下来就是左零空间的一部分了！那么怎么把这变化过程记录下来呢，这让我们想起了求逆矩阵时的方法：
$[A|I] \rightarrow[R|E]$,那么由于$E[A | I] = [R | E]$得到EA=R！那么由于R中的最后一行是由E的最后一行操作组合而来，那么E的最后一行就是左零空间的基！以上面的例子为基础，那么$\left[\begin{array}{cccc|ccc} 1 & 2 & 3 & 1 & 1&0&0 \\ 2 & 4 & 6 & 8 & 0&1&0 \\ 1 & 2 & 3 & 1&0&0&1\end{array}\right]$，推导得到$\left[\begin{array}{cccc|ccc} 1 & 0 & 1 & 1 & -1&2&0 \\ 0 & 1 & 1 & 0 & 1&-1&0 \\ 0 & 0 & 0 & 0&-1&0&1\end{array}\right]$，得到$E = \begin{bmatrix}-1&2&0\\1&-1&0\\-1&0&1\end{bmatrix}$,抽出E的第三行，就是左零向量的基了！如果可以化作两行为0的情况，那就要抽取E的后两行作为基了！

# 四个基本空间图像：
```
                            +-------+
                            |  m*n  |
                            | 的矩阵 |
                            +-------+
+---------+                                            +----------+ 
| n维空间  |                                            | m维空间   |
| 的子空间 | +----------+                  +----------+ | 的子空间   |
+---------+ |  行空间   |                  | 列空间    | +----------+
            | 维度为:r  |                  | 维数是:r  |
+----------++----------+                  +----------++----------+
| 零空间   |                                           | 左零空间  |
|维度为:n-r|                                           |维度为:m-r |
+---------+                                           +----------+
```
这与1.1讲开头那个图片是一样的！尤其要深刻理解这张图的意思，不是有句老话吗：如果你不知道矩阵的四个基本子空间，千万不要说自己学过线性代数！

# 矩阵空间
这其实是下一讲的主要内容，而在这里做一个引线！
首先我们需要思考一个问题，一个线性空间是怎么由一些向量组合而来的？就是通过赋予这些向量不同的系数，配合线性空间的八条运算律，张成的整个空间（这个不理解的话需要回去看看1.7章的内容）！那么我们这个时候惊讶发现，矩阵和向量有许多相似之处，向量在空间中可以表示一个子空间，矩阵也可以，向量满足八条运算律，矩阵也可以（先忽略矩阵乘法这一点！）。那么是不是也可以这么想，多个矩阵通过赋予不同的系数也可以在线性空间中张成一个空间（细思极恐！！！）。
打住，这个概念我们讨论到这里，再详细的内容我们到下一讲学习！
但是，我还是想说说如果我们将所有3乘3矩阵的集合张成一个空间，那么他的子空间有哪些：所有上三角矩阵，所有对称矩阵，所有对角矩阵（其非对角线位置的元素全部为零，仅在主对角线上有非零元素）。很明显，上三角矩阵与对称矩阵的交集为对角矩阵。那么对角矩阵他的基就是：
$\begin{bmatrix}1&0&0\\0&0&0\\0&0&0\end{bmatrix},\begin{bmatrix}1&0&0\\0&3&0\\0&0&0\end{bmatrix},\begin{bmatrix}0&0&0\\0&0&0\\0&0&7\end{bmatrix}$这三个矩阵是他的基！不必疑惑，我们下一讲会细细讨论！

# 讨论课
我们有一个矩阵B，但是我这回把他拆分为LU形式。那么有$B= \begin{bmatrix}1&0&0\\2&1&0\\-1&0&1\end{bmatrix}\begin{bmatrix}5&0&3\\0&1&1\\0&0&0\end{bmatrix}$,对于这么个矩阵B，找出他全部的子空间的维度与基！
这个题目很有意思，以LU分解的视角来看B的矩阵空间。
这在之前我们需要为大家总结一个事实：就是说一个矩阵A，经过高斯消元转化为R，那么对于R来说，R矩阵的列空间是和A矩阵的列空间是不一样的！因为行的线性组合改变了矩阵的列空间！但是不变的是在矩阵A的主元列对应到矩阵R中的列也是主元列！但是如果由另外一个矩阵B是由A进行列的线性组合得来的，那么矩阵A和矩阵B的列空间就是一样的！到行空间中也是这样的！
解答：
（1）列空间：
首先看他的维度，B矩阵的列空间维度就是他的秩。那么由于U就是由B消元而来的。那么U的秩就是B的秩！可以看到U的秩是2，那么B矩阵列空间的维度就是2！那么L的秩会是B的秩吗，不是，因为L是记录B转化到U的行操作的。且L是永远满秩的！
再看他的基，首先我们可以把矩阵B看做是由L的列进行线性组合而来的！那么B和L的列矩阵空间是一样的！而由于U是由矩阵B进行行的线性组合而来的，所以U矩阵的主元列对应（对应不是相等哦）的也是B的主元列！在U中的1，2列是主元列，那么在B中的1，2列是主元列。而由于B和L的主元列是一样的，相等的。所以L的1，2列就是B的主元列，就是基！
所以：B的列空间维度是2，基是：$\begin{bmatrix}1&0\\2&1\\-1&0\end{bmatrix}$。

（2）零空间：
不用问，那就是n-r=1，所以矩阵B的零空间的维度是1！现在来看他的基，直接就是求特解！特解怎么求，由1.9可以知道矩阵零空间的特解是可以通过化简后的矩阵求得的，对自由变量赋值得到特解是：$\begin{bmatrix}-\frac{3}{5}\\-1\\1\end{bmatrix}$。这就是他的基！

（3）行空间：
要知道转置矩阵的秩和矩阵本身的秩是相等的，那么行空间的维度就是2。这么求解基呢，刚好矩阵U就是由矩阵B进行行的线性组合而来的，那么矩阵U和矩阵B行空间是一样的！那么主元行就是基地。那就是$\begin{bmatrix}5&0\\0&1\\3&1\end{bmatrix}$。
（4）左零空间：
首先他的秩是m-r，那么维度是1！他的怎么求呢？当然是运用高数消元法。首先$B= \begin{bmatrix}1&0&0\\2&1&0\\-1&0&1\end{bmatrix}\begin{bmatrix}5&0&3\\0&1&1\\0&0&0\end{bmatrix}$，那么把L放到等式左边，得到$\begin{bmatrix}1&0&0\\-2&1&0\\1&0&1\end{bmatrix}B= \begin{bmatrix}5&0&3\\0&1&1\\0&0&0\end{bmatrix}$，发现U的最后一行都是零，那么$L^{-1}$的最后一行就是基。基为：$\begin{bmatrix}1&0&1\end{bmatrix}$。

# 习题课
# 问题一：
假设有一个m行n列秩为r的矩阵A，且并不是所有的Ax=b都有解！（1）在 m, n 和 r 之间必须满足哪些不等式？（2）如何知道 $A^Ty=0$ 必有 y=0 之外的解？

解答：（1）无论什么矩阵都有$r\leq m且r\leq n$，然后由于并非所有b都有解，那么列空间是小于m维的，那么$r<m$。
（2）首先y是属于A的左零空间，那么要确定还有没有y=0之外的解，就要确定左零空房间的维度，只要大于等于1，那就有其他解。可知左零空间维度等于m-r，由于r<m，那么m-r等于0，所以左零空间不止是零向量！
# 问题二：
当 d 属于A矩阵的四个子空间中的哪一个时，$A^Ty=d$ 可解？当_____包含零向量唯一时，解 y 是唯一的。

解答：A的行空间，当A的左零空间！